# 功能規格：[FEATURE NAME]

**功能分支**：`[###-feature-name]`  
**建立時間**：[DATE]  
**狀態**：草稿  
**輸入**：使用者描述："$ARGUMENTS"

## 執行流程（main）

```
1. 從輸入解析使用者描述
   → 如果為空：錯誤 "未提供功能描述"
2. 從描述中提取關鍵概念
   → 識別：參與者、動作、資料、限制條件
3. 對於每個不清楚的方面：
   → 標記為 [NEEDS CLARIFICATION: 具體問題]
4. 填寫使用者情境與測試章節
   → 如果沒有清楚的使用者流程：錯誤 "無法確定使用者情境"
5. 產生功能需求
   → 每個需求都必須可測試
   → 標記模糊的需求
6. 識別關鍵實體（如果涉及資料）
7. 執行審查檢查清單
   → 如果有任何 [NEEDS CLARIFICATION]：警告 "規格有不確定性"
   → 如果發現實作細節：錯誤 "移除技術細節"
8. 回傳：成功（規格準備進行規劃）
```

---

## ⚡ 快速指導原則

- ✅ 專注於使用者需要什麼以及為什麼
- ❌ 避免如何實作（無技術堆疊、API、程式碼結構）
- 👥 為業務利害關係人撰寫，而非開發者

### 章節需求

- **必要章節**：每個功能都必須完成
- **選用章節**：僅在與功能相關時包含
- 當章節不適用時，完全移除它（不要留下「N/A」）

### 針對 AI 產生

從使用者提示建立此規格時：

1. **標記所有模糊之處**：對於任何你需要做出假設的地方，使用 [NEEDS CLARIFICATION: 具體問題]
2. **不要猜測**：如果提示沒有指定某些內容（例如沒有驗證方法的「登入系統」），請標記它
3. **像測試者一樣思考**：每個模糊的需求都應該在「可測試且明確」的檢查清單項目中失敗
4. **常見規格不足的領域**：
   - 使用者類型和權限
   - 資料保留/刪除政策
   - 效能目標和規模
   - 錯誤處理行為
   - 整合需求
   - 安全性/合規需求

---

## 使用者情境與測試 _（必要）_

### 主要使用者故事

[用簡單的語言描述主要使用者旅程]

### 接受情境

1. **假設** [初始狀態]，**當** [動作]，**則** [預期結果]
2. **假設** [初始狀態]，**當** [動作]，**則** [預期結果]

### 邊界情況

- 當 [邊界條件] 時會發生什麼？
- 系統如何處理 [錯誤情境]？

## 需求 _（必要）_

### 功能需求

- **FR-001**：系統必須 [特定功能，例如「允許使用者建立帳戶」]
- **FR-002**：系統必須 [特定功能，例如「驗證電子郵件地址」]
- **FR-003**：使用者必須能夠 [關鍵互動，例如「重設密碼」]
- **FR-004**：系統必須 [資料需求，例如「持久化使用者偏好設定」]
- **FR-005**：系統必須 [行為，例如「記錄所有安全事件」]

_標記不清楚需求的範例：_

- **FR-006**：系統必須透過 [NEEDS CLARIFICATION: 未指定驗證方法 - 電子郵件/密碼、SSO、OAuth？] 驗證使用者
- **FR-007**：系統必須保留使用者資料 [NEEDS CLARIFICATION: 未指定保留期間]

### 關鍵實體 _（如果功能涉及資料則包含）_

- **[實體 1]**：[它代表什麼，不含實作的關鍵屬性]
- **[實體 2]**：[它代表什麼，與其他實體的關係]

---

## 審查與接受檢查清單

_閘門：在 main() 執行期間執行的自動檢查_

### 內容品質

- [ ] 無實作細節（語言、框架、API）
- [ ] 專注於使用者價值和業務需求
- [ ] 為非技術利害關係人撰寫
- [ ] 所有必要章節已完成

### 需求完整性

- [ ] 不再有 [NEEDS CLARIFICATION] 標記
- [ ] 需求可測試且明確
- [ ] 成功標準可衡量
- [ ] 範圍界限清楚
- [ ] 相依性和假設已識別

---

## 執行狀態

_在處理期間由 main() 更新_

- [ ] 使用者描述已解析
- [ ] 關鍵概念已提取
- [ ] 模糊之處已標記
- [ ] 使用者情境已定義
- [ ] 需求已產生
- [ ] 實體已識別
- [ ] 審查檢查清單已通過

---
